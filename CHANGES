
Changes with nginx 0.1.33                                        23 May 2005

    *) Bugfix: nginx could not be built with the --without-pcre parameter; 
       bug appeared in 0.1.29.

    *) Bugfix: 3, 4, 7, and 8 the "proxy_set_header" directives in one 
       level cause the bus fault on start up.

    *) Bugfix: the HTTP protocol was specified in the HTTPS redirects.

    *) Bugfix: if the "rewrite" directive used the captures inside the "if" 
       directive, then the 500 error code was returned.


Changes with nginx 0.1.32                                        19 May 2005

    *) Bugfix: the arguments were omitted in the redirects, issued by the 
       "rewrite" directive; bug appeared in 0.1.29.

    *) Feature: the "if" directive supports the captures in regular 
       expressions.

    *) Feature: the "set" directive supports the variables and the captures 
       of regular expressions.

    *) Feature: the "X-Accel-Redirect" response header line is supported in 
       proxy and FastCGI mode.


Changes with nginx 0.1.31                                        16 May 2005

    *) Bugfix: the response encrypted by SSL may not transferred complete.

    *) Bugfix: errors while processing FastCGI response by SSI.

    *) Bugfix: errors while using SSI and gzipping.

    *) Bugfix: the redirect with the 301 code was transferred without 
       response body; bug appeared in 0.1.30.


Changes with nginx 0.1.30                                        14 May 2005

    *) Bugfix: the worker process may got caught in an endless loop if the 
       SSI was used.

    *) Bugfix: the response encrypted by SSL may not transferred complete.

    *) Bugfix: if the length of the response part received at once from 
       proxied or FastCGI server was equal to 500, then nginx returns the 
       500 response code; in proxy mode the bug appeared in 0.1.29 only.

    *) Bugfix: nginx did not consider the directives with 8 or 9 parameters 
       as invalid.

    *) Feature: the "return" directive can return the 204 response code.

    *) Feature: the "ignore_invalid_headers" directive.


Changes with nginx 0.1.29                                        12 May 2005

    *) Feature: the ngx_http_ssi_module supports "include virtual" command.

    *) Feature: the ngx_http_ssi_module supports the condition command like 
       'if expr="$NAME"' and "else" and "endif" commands. Only one nested 
       level is supported.

    *) Feature: the ngx_http_ssi_module supports the DATE_LOCAL and 
       DATE_GMT variables and "config timefmt" command.

    *) Feature: the "ssi_ignore_recycled_buffers" directive.

    *) Bugfix: the "echo" command did not show the default value for the 
       empty QUERY_STRING variable.

    *) Change: the ngx_http_proxy_module was rewritten.

    *) Feature: the "proxy_redirect", "proxy_pass_request_headers", 
       "proxy_pass_request_body", and "proxy_method" directives.

    *) Feature: the "proxy_set_header" directive. The "proxy_x_var" is 
       canceled and must be replaced with the proxy_set_header directive.

    *) Change: the "proxy_preserve_host" is canceled and must be replaced 
       with the "proxy_set_header Host $host" and the "proxy_redirect off" 
       directives, the "proxy_set_header Host $host:$proxy_port" directive 
       and the appropriate proxy_redirect directives.

    *) Change: the "proxy_set_x_real_ip" is canceled and must be replaced 
       with the "proxy_set_header X-Real-IP $remote_addr" directive.

    *) Change: the "proxy_add_x_forwarded_for" is canceled and must be 
       replaced with 
       the "proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for" 
       directive.

    *) Change: the "proxy_set_x_url" is canceled and must be replaced with 
       the "proxy_set_header X-URL http://$host:$server_port$request_uri" 
       directive.

    *) Feature: the "fastcgi_param" directive.

    *) Change: the "fastcgi_root", "fastcgi_set_var" and "fastcgi_params" 
       directive are canceled and must be replaced with the fastcgi_param 
       directives.

    *) Feature: the "index" directive can use the variables.

    *) Feature: the "index" directive can be used at http and server levels.

    *) Change: the last index only in the "index" directive can be absolute.

    *) Feature: the "rewrite" directive can use the variables.

    *) Feature: the "internal" directive.

    *) Feature: the CONTENT_LENGTH, CONTENT_TYPE, REMOTE_PORT, SERVER_ADDR, 
       SERVER_PORT, SERVER_PROTOCOL, DOCUMENT_ROOT, SERVER_NAME, 
       REQUEST_METHOD, REQUEST_URI, and REMOTE_USER variables.

    *) Change: nginx now passes the invalid lines in a client request 
       headers or a backend response header.

    *) Bugfix: if the backend did not transfer response for a long time and 
       the "send_timeout" was less than "proxy_read_timeout", then nginx 
       returned the 408 response.

    *) Bugfix: the segmentation fault was occurred if the backend sent an 
       invalid line in response header; bug appeared in 0.1.26.

    *) Bugfix: the segmentation fault may occurred in FastCGI fault 
       tolerance configuration.

    *) Bugfix: the "expires" directive did not remove the previous 
       "Expires" and "Cache-Control" headers.

    *) Bugfix: nginx did not take into account trailing dot in "Host" 
       header line.

    *) Bugfix: the ngx_http_auth_module did not work under Linux.

    *) Bugfix: the rewrite directive worked incorrectly, if the arguments 
       were in a request.

    *) Bugfix: nginx could not be built on MacOS X.


Changes with nginx 0.1.28                                        08 Apr 2005

    *) Bugfix: nginx hogs CPU while proxing the huge files.

    *) Bugfix: nginx could not be built by gcc 4.0 on Linux.


Changes with nginx 0.1.27                                        28 Mar 2005

    *) Feature: the "blocked" parameter of the "valid_referers" directive.

    *) Change: the errors while handling the request header now logged at 
       "info" level. The server name and the "Host" and "Referer" header 
       lines also logged.

    *) Change: the "Host" header line is also logged in error log.

    *) Feature: the proxy_pass_unparsed_uri directive. The special handling 
       of the "://" symbols in URI, appeared in 0.1.11 version, now is 
       canceled.

    *) Bugfix: nginx could not be built on FreeBSD and Linux, if the 
       --without-ngx_http_auth_basic_module configuration parameter was 
       used.


Changes with nginx 0.1.26                                        22 Mar 2005

    *) Change: the invalid client header lines are now ignored and logged 
       at the info level.

    *) Change: the server name is also logged in error log.

    *) Feature: the ngx_http_auth_basic_module module and the auth_basic 
       and auth_basic_user_file directives.


Changes with nginx 0.1.25                                        19 Mar 2005

    *) Bugfix: nginx did run on Linux parisc.

    *) Feature: nginx now does not start under FreeBSD if the sysctl 
       kern.ipc.somaxconn value is too big.

    *) Bugfix: if a request was internally redirected by the 
       ngx_http_index_module module to the ngx_http_proxy_module or 
       ngx_http_fastcgi_module modules, then the index file was not closed 
       after request completion.

    *) Feature: the "proxy_pass" can be used in location with regular 
       expression.

    *) Feature: the ngx_http_rewrite_filter_module module supports the 
       condition like "if ($HTTP_USER_AGENT ~ MSIE)".

    *) Bugfix: nginx started too slow if the large number of addresses and 
       text values were used in the "geo" directive.

    *) Change: a variable name must be declared as "$name" in the "geo" 
       directive. The previous variant without "$" is still supported, but 
       will be removed soon.

    *) Feature: the "%{VARIABLE}v" logging parameter.

    *) Feature: the "set $name value" directive.

    *) Bugfix: gcc 4.0 compatibility.

    *) Feature: the --with-openssl-opt=OPTIONS autoconfiguration directive.


Changes with nginx 0.1.24                                        04 Mar 2005

    *) Feature: the ngx_http_ssi_filter_module supports the QUERY_STRING 
       and DOCUMENT_URI variables.

    *) Bugfix: the ngx_http_autoindex_module may some times return the 404 
       response for existent directory, if this directory was used in 
       "alias" directive.

    *) Bugfix: the ngx_http_ssi_filter_module ran incorrectly for large 
       responses.

    *) Bugfix: the lack of the "Referer" header line was always accounted 
       as valid referrer.


Changes with nginx 0.1.23                                        01 Mar 2005

    *) Feature: the ngx_http_ssi_filter_module and the ssi, 
       ssi_silent_errors, and ssi_min_file_chunk directives. The 'echo 
       var="HTTP_..." default=""' and 'echo var="REMOTE_ADDR"' commands are 
       supported.

    *) Feature: the %request_time log parameter.

    *) Feature: if the request has no the "Host" header line, then the 
       proxy_preserve_host directive set this header line to the first 
       server name of the server_name directive.

    *) Bugfix: nginx could not be built on platforms different from i386, 
       amd64, sparc É ppc; bug appeared in 0.1.22.

    *) Bugfix: the ngx_http_autoindex_module now shows the information not 
       about the symlink, but about file or directory it points to.

    *) Bugfix: the %apache_length parameter logged the negative length of 
       the response header if the no response was transferred to a client.


Changes with nginx 0.1.22                                        22 Feb 2005

    *) Bugfix: the ngx_http_stub_status_module showed incorrect handled 
       connections statistics if the proxing or FastCGI server were used.

    *) Bugfix: the installation paths were incorrectly quoted on Linux and 
       Solaris; bug appeared in 0.1.21.


Changes with nginx 0.1.21                                        22 Feb 2005

    *) Bugfix: the ngx_http_stub_status_module showed incorrect statistics 
       if "rtsig" method was used or if several worker process ran on SMP.

    *) Bugfix: nginx could not be built by the icc compiler on Linux or if 
       the zlib-1.2.x library was building from sources.

    *) Bugfix: nginx could not be built on NetBSD 2.0.


Changes with nginx 0.1.20                                        17 Feb 2005

    *) Feature: the new "script_filename" and "remote_port" parameters of 
       the fastcgi_params directive.

    *) Bugfix: the FastCGI stderr stream was handled incorrectly.


Changes with nginx 0.1.19                                        16 Feb 2005

    *) Bugfix: now, if request contains the zero, then the 404 error is 
       returned for the local requests.

    *) Bugfix: nginx could not be built on NetBSD 2.0.

    *) Bugfix: the timeout may occur while reading of the the client 
       request body via SSL connections.


Changes with nginx 0.1.18                                        09 Feb 2005

    *) Workaround: the default values of the devpoll_events and the 
       devpoll_changes directives changed from 512 to 32 to be compatible 
       with Solaris 10.

    *) Bugfix: the proxy_set_x_var and fastcgi_set_var directives were not 
       inherited.

    *) Bugfix: in the redirect rewrite directive the arguments were 
       concatenated with URI by the "&" rather than the "?".

    *) Bugfix: the lines without trailing ";" in the file being included by 
       the ngx_http_geo_module were silently ignored.

    *) Feature: the ngx_http_stub_status_module.

    *) Bugfix: the unknown log format in the access_log directive caused 
       the segmentation fault.

    *) Feature: the new "document_root" parameter of the fastcgi_params 
       directive.

    *) Feature: the fastcgi_redirect_errors directive.

    *) Feature: the new "break" modifier of the "rewrite" directive allows 
       to stop the rewrite/location cycle and sets the current 
       configuration to the request.


Changes with nginx 0.1.17                                        03 Feb 2005

    *) Change: the ngx_http_rewrite_module was rewritten from the scratch. 
       Now it is possible to redirect, to return the error codes, to check 
       the variables and referrers. The directives can be used inside 
       locations. The redirect directive was canceled.

    *) Feature: the ngx_http_geo_module.

    *) Feature: the proxy_set_x_var and fastcgi_set_var directives.

    *) Bugfix: the location configuration with "=" modifier may be used in 
       another location.

    *) Bugfix: the correct content type was set only for requests that use 
       small caps letters in extension.

    *) Bugfix: if the proxy_pass or fastcgi_pass directives were set in the 
       location, and access was denied, and the error was redirected to a 
       static page, then the segmentation fault occurred.

    *) Bugfix: if in a proxied "Location" header was a relative URL, then a 
       host name and a slash were added to them; bug appeared in 0.1.14.

    *) Bugfix: the system error message was not logged on Linux.


Changes with nginx 0.1.16                                        25 Jan 2005

    *) Bugfix: if the response were transferred by chunks, then on the HEAD 
       request the final chunk was issued.

    *) Bugfix: the "Connection: keep-alive" header were issued, even if the 
       keepalive_timeout directive forbade the keep-alive use.

    *) Bugfix: the errors in the ngx_http_fastcgi_module caused the 
       segmentation faults.

    *) Bugfix: the compressed response encrypted by SSL may not transferred 
       complete.

    *) Bugfix: the TCP-specific TCP_NODELAY, TCP_NOPSUH, and TCP_CORK 
       options, are not used for the unix domain sockets.

    *) Feature: the rewrite directive supports the arguments rewriting.

    *) Bugfix: the response code 400 was returned for the POST request with 
       the "Content-Length: 0" header; bug appeared in 0.1.14.


Changes with nginx 0.1.15                                        19 Jan 2005

    *) Bugfix: the error while the connecting to the FastCGI server caused 
       segmentation fault.

    *) Bugfix: the correct handling of the regular expression, that has 
       different number of the captures and substitutions.

    *) Feature: the location, that is passed to the FastCGI server, can be 
       regular expression.

    *) Bugfix: the FastCGI's parameter REQUEST_URI is now passed with the 
       arguments and in the original state.

    *) Bugfix: the ngx_http_rewrite_module module was required to be built 
       to use the regular expressions in locations.

    *) Bugfix: the directive "proxy_preserve_host  on" adds port 80 to the 
       "Host" headers, if upstream listen on port 80; bug appeared in 
       0.1.14.

    *) Bugfix: the same paths in autoconfiguration parameters 
       --http-client-body-temp-path=PATH and --http-proxy-temp-path=PATH, 
       or --http-client-body-temp-path=PATH and 
       --http-fastcgi-temp-path=PATH caused segmentation fault.


Changes with nginx 0.1.14                                        18 Jan 2005

    *) Feature: the autoconfiguration directives: 
       --http-client-body-temp-path=PATH, --http-proxy-temp-path=PATH, and 
       --http-fastcgi-temp-path=PATH

    *) Change: the directory name for the temporary files with the client 
       request body is specified by directive client_body_temp_path, by 
       default it is <prefix>/client_body_temp.

    *) Feature: the ngx_http_fastcgi_module and the directives: 
       fastcgi_pass, fastcgi_root, fastcgi_index, fastcgi_params, 
       fastcgi_connect_timeout, fastcgi_send_timeout, fastcgi_read_timeout, 
       fastcgi_send_lowat, fastcgi_header_buffer_size, fastcgi_buffers, 
       fastcgi_busy_buffers_size, fastcgi_temp_path, 
       fastcgi_max_temp_file_size, fastcgi_temp_file_write_size, 
       fastcgi_next_upstream, and fastcgi_x_powered_by.

    *) Bugfix: the "[alert] zero size buf" error; bug appeared in 0.1.3.

    *) Change: the URI must be specified after the host name in the 
       proxy_pass directive.

    *) Change: the %3F symbol in the URI was considered as the argument 
       string start.

    *) Feature: the unix domain sockets support in the 
       ngx_http_proxy_module.

    *) Feature: the ssl_engine and ssl_ciphers directives.
       Thanks to Sergey Skvortsov for SSL-accelerator.


Changes with nginx 0.1.13                                        21 Dec 2004

    *) Feature: the server_names_hash and server_names_hash_threshold 
       directives.

    *) Bugfix: the *.domain.tld names in the server_name directive did not 
       work.

    *) Bugfix: the %request_length log parameter logged the incorrect 
       length.


Changes with nginx 0.1.12                                        06 Dec 2004

    *) Feature: the %request_length log parameter.

    *) Bugfix: when using the /dev/poll, select and poll on the platforms, 
       where these methods may do the false reports, there may be the long 
       delay when the request was passed via the keep-alive connection. It 
       may be at least on Solaris when using the /dev/poll.

    *) Bugfix: the send_lowat directive is ignored on Linux because Linux 
       does not support the SO_SNDLOWAT option.


Changes with nginx 0.1.11                                        02 Dec 2004

    *) Feature: the worker_priority directive.

    *) Change: both tcp_nopush and tcp_nodelay directives affect the 
       transferred response.

    *) Bugfix: nginx did not call initgroups().
       Thanks to Andrew Sitnikov and Andrei Nigmatulin.

    *) Change: now the ngx_http_autoindex_module shows the file size in the 
       bytes.

    *) Bugfix: the ngx_http_autoindex_module returned the 500 error if the 
       broken symlink was in a directory.

    *) Bugfix: the files bigger than 4G could not be transferred using 
       sendfile.

    *) Bugfix: if the backend was resolved to several backends and there 
       was an error while the response waiting then process may got caught 
       in an endless loop.

    *) Bugfix: the worker process may exit with the "unknown cycle" message 
       when the /dev/poll method was used.

    *) Bugfix: "close() channel failed" errors.

    *) Bugfix: the autodetection of the "nobody" and "nogroup" groups.

    *) Bugfix: the send_lowat directive did not work on Linux.

    *) Bugfix: the segmentation fault occurred if there was no events 
       section in configuration.

    *) Bugfix: nginx could not be built on OpenBSD.

    *) Bugfix: the double slashes in "://" in the URI were converted to 
       ":/".


Changes with nginx 0.1.10                                        26 Nov 2004

    *) Bugfix: if the request without arguments contains "//", "/./", 
       "/../" or "%XX" then the lost character in the request line was 
       lost; bug appeared in 0.1.9.

    *) Bugfix: the fix in 0.1.9 for the files bigger than 2G on Linux did 
       not work.


Changes with nginx 0.1.9                                         25 Nov 2004

    *) Bugfix: the proxied request was sent without arguments if the 
       request contains "//", "/./", "/../" or "%XX".

    *) Bugfix: the large compressed responses may be transferred not 
       completely.

    *) Bugfix: the files bigger than 2G was not transferred on Linux that 
       does not support sendfile64().

    *) Bugfix: while the build configuration on Linux the 
       --with-poll_module parameter was required; bug appeared in 0.1.8.


Changes with nginx 0.1.8                                         20 Nov 2004

    *) Bugfix: in the ngx_http_autoindex_module if the long file names were 
       in the listing.

    *) Feature: the "^~" modifier in the location directive.

    *) Feature: the proxy_max_temp_file_size directive.


Changes with nginx 0.1.7                                         12 Nov 2004

    *) Bugfix: on FreeBSD the segmentation fault may occur if the size of 
       the transferred file was changed; bug appeared in 0.1.5.


Changes with nginx 0.1.6                                         11 Nov 2004

    *) Bugfix: some location directive combinations with the regular 
       expressions caused the wrong configuration choose.


Changes with nginx 0.1.5                                         11 Nov 2004

    *) Bugfix: on Solaris and Linux there may be too many "recvmsg() 
       returned not enough data" alerts.

    *) Bugfix: there were the "writev() failed (22: Invalid argument)" 
       errors on Solaris in proxy mode without sendfile. On other platforms 
       that do not support sendfile at all the process got caught in an 
       endless loop.

    *) Bugfix: segmentation fault on Solaris in proxy mode and using 
       sendfile.

    *) Bugfix: segmentation fault on Solaris.

    *) Bugfix: on-line upgrade did not work on Linux.

    *) Bugfix: the ngx_http_autoindex_module module did not escape the 
       spaces, the quotes, and the percent signs in the directory listing.

    *) Change: the decrease of the copy operations.

    *) Feature: the userid_p3p directive.


Changes with nginx 0.1.4                                         26 Oct 2004

    *) Bugfix: in the ngx_http_autoindex_module.


Changes with nginx 0.1.3                                         25 Oct 2004

    *) Feature: the ngx_http_autoindex_module and the autoindex directive.

    *) Feature: the proxy_set_x_url directive.

    *) Bugfix: proxy module may get caught in an endless loop when sendfile 
       is not used.


Changes with nginx 0.1.2                                         21 Oct 2004

    *) Feature: the --user=USER, --group=GROUP, and --with-ld-opt=OPTIONS 
       options in configure.

    *) Feature: the server_name directive supports *.domain.tld.

    *) Bugfix: the portability improvements.

    *) Bugfix: if configuration file was set in command line, the 
       reconfiguration was impossible; bug appeared in 0.1.1.

    *) Bugfix: proxy module may get caught in an endless loop when sendfile 
       is not used.

    *) Bugfix: with sendfile the response was not recoded according to the 
       charset module directives; bug appeared in 0.1.1.

    *) Bugfix: very seldom bug in the kqueue processing.

    *) Bugfix: the gzip module compressed the proxied responses that was 
       already compressed.


Changes with nginx 0.1.1                                         11 Oct 2004

    *) Feature: the gzip_types directive.

    *) Feature: the tcp_nodelay directive.

    *) Feature: the send_lowat directive is working not only on OSes that 
       support kqueue NOTE_LOWAT, but also on OSes that support SO_SNDLOWAT.

    *) Feature: the setproctitle() emulation for Linux and Solaris.

    *) Bugfix: the "Location" header rewrite bug fixed while the proxing.

    *) Bugfix: the ngx_http_chunked_module module may get caught in an 
       endless loop.

    *) Bugfix: the /dev/poll module bugs fixed.

    *) Bugfix: the responses were corrupted when the temporary files were 
       used while the proxing.

    *) Bugfix: the unescaped requests were passed to the backend.

    *) Bugfix: while the build configuration on Linux 2.4 the 
       --with-poll_module parameter was required.


Changes with nginx 0.1.0                                         04 Oct 2004

    *) The first public version.

